# library of utility functions

"++"(X):(X=X+1);
"--"(X):(X=X-1);

min(a:,b:): (
	(a < b) ? (a ; b)
);

max(a:,b:): (
	(a > b) ? (a ; b)
);

spad(n, s, c): (
	m:s@length,
	((-m >= m) && (n > m)) ? (
		(-n < n) ? (
			s((-n - m)c)
		;
			((n - m)c)s
		)
	;
		s
	)
);

itos(n, i): (
	s:i@to_String,
	spad(n, s, ` `)
);

ndigits(i:0): (
	n:1,
	(i > 9) ?* (
		i = i/10,
		n++
	),
	n
);

select(N): (
	@rand() // N
);

shuffle(a): (
	(t:, i:, n:a@length; n > 0) ?* (
		i = select(n),
		n--,
		(n <> i) ? (
			t    = (=(a[n])),
			a[n] = (=(a[i])),
			a[i] = (=t)
		)
	),

	a
);

getcmd(): (
	"> "@print, @flush(),
	@getln()
);

calloc(n:): (
	m:[],
	(i:0; i < n; i++) ?* (
		m[i] = 0
	),
	m
);

